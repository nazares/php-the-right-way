---
isChild: true
title: Создание и развертывание вашего приложения
anchor: building_and_deploying_your_application
---

## Создание и развертывание вашего приложения {#building_and_deploying_your_application_title}

Если вы обнаружите, что вручную вносите изменения в схему базы данных или запускаете тесты перед обновлением файлов
(вручную), подумайте дважды! С каждой дополнительной ручной задачей, необходимой для развертывания новой версии вашего
приложения, увеличивается вероятность потенциально фатальных ошибок. Независимо от того, имеете ли вы дело с простым
обновлением, комплексным процессом сборки или даже стратегией непрерывной интеграции,
[автоматизация сборки][buildautomation] — ваш друг.

Среди задач, которые вы, возможно, захотите автоматизировать, следующие:

* Управление зависимостями
* Компиляция, минификация ваших активов
* Запуск тестов
* Создание документации
* Упаковка
* Развертывание

### Инструменты развертывания

Инструменты развертывания можно описать как набор сценариев, которые выполняют общие задачи развертывания программного
обеспечения. Инструмент развертывания не является частью вашего программного обеспечения, он воздействует на ваше
программное обеспечение 'извне'.

Существует множество инструментов с открытым исходным кодом, которые помогут вам в автоматизации сборки и развертывании,
некоторые из них написаны на PHP, а другие нет. Это не должно удерживать вас от их использования, если они лучше подходят
для конкретной работы. Вот несколько примеров:

[Phing] может управлять процессом упаковки, развертывания или тестирования из XML-файла сборки. Phing (который основан
на [Apache Ant]) предоставляет богатый набор задач, обычно необходимых для установки или обновления веб-приложения, и
может быть дополнен дополнительными пользовательскими задачами, написанными на PHP. Это надежный и надежный инструмент,
который существует уже давно, однако этот инструмент может показаться немного старомодным из-за того, как он работает с
конфигурацией (XML-файлы).

[Capistrano] — это система для *программистов среднего и продвинутого уровня*, позволяющая выполнять команды
структурированным, повторяемым образом на одной или нескольких удаленных машинах. Он предварительно настроен для
развертывания приложений Ruby on Rails, однако с его помощью вы можете успешно развертывать системы PHP. Успешное
использование Capistrano зависит от практических знаний Ruby и Rake.

[Ansistrano] — это пара ролей Ansible для простого управления процессом развертывания (развертывание и откат) для таких
приложений, как PHP, Python и Ruby. Это порт Ansible для [Capistrano]. Он уже используется довольно многими PHP-компаниями.

[Rocketeer] черпает вдохновение и философию из фреймворка Laravel. Его цель — быть быстрым, элегантным и простым в
использовании с умными настройками по умолчанию. Он имеет несколько серверов, несколько этапов, атомарное развертывание,
и развертывание может выполняться параллельно. Все в инструменте может быть заменено или расширено в горячем режиме, и
все написано на PHP.

[Deployer] — это инструмент развертывания, написанный на PHP. Это просто и функционально. Функции включают в себя
параллельный запуск задач, атомарное развертывание и поддержание согласованности между серверами. Доступны рецепты общих
задач для Symfony, Laravel, Zend Framework и Yii. Статья Юнеса Рафи [Простое развертывание приложений PHP с помощью
Deployer][phpdeploy_deployer] — отличное руководство по развертыванию вашего приложения с помощью этого инструмента.

[Magallanes] — еще один инструмент, написанный на PHP с простой настройкой в ​​файлах YAML. Он поддерживает несколько
cерверов и сред, атомарное развертывание и имеет несколько встроенных задач, которые вы можете использовать для общих
инструментов и сред.

#### Дальнейшее чтение

* [Автоматизируйте свой проект с Apache Ant][apache_ant_tutorial]
* [Развертывание PHP приложений][deploying_php_applications] - платная книга о лучших практиках и инструментах для
развертывания PHP приложений.

### Подготовка сервера

Управление серверами и их настройка могут оказаться непростой задачей при наличии большого количества серверов.
Существуют инструменты для решения этой проблемы, поэтому вы можете автоматизировать свою инфраструктуру, чтобы
убедиться, что у вас есть нужные серверы и что они правильно настроены. Они часто интегрируются с более крупными
поставщиками облачного хостинга (Amazon Web Services, Heroku, DigitalOcean и т. д.) для управления экземплярами, что
значительно упрощает масштабирование приложения.

[Ansible] — это инструмент, который управляет вашей инфраструктурой через файлы YAML. С ним легко начать работу, и он
может управлять сложными и крупномасштабными приложениями. Существует API для управления облачными экземплярами, и он
может управлять ими через динамическую инвентаризацию с использованием определенных инструментов.

[Puppet] — это инструмент со своим языком и типами файлов для управления серверами и конфигурациями. Его можно
использовать в режиме мастер/клиент или в режиме «без мастера». В режиме «мастер/клиент» клиенты будут опрашивать
центральные мастера на наличие новой конфигурации с заданными интервалами и при необходимости обновлять себя. В режиме
без мастера вы можете вносить изменения в свои узлы.

[Chef] — это мощная платформа системной интеграции на основе Ruby, с помощью которой вы можете создать всю свою
серверную среду или виртуальные блоки. Он хорошо интегрируется с Amazon Web Services через их сервис под названием
OpsWorks.

#### Дальнейшее чтение

* [An Ansible Tutorial][an_ansible_tutorial]
* [Ansible for DevOps][ansible_for_devops] - платная книга обо всем Ansible
* [Ansible for AWS][ansible_for_aws] - платная книга по интеграции Ansible и Amazon Web Services
* [Серия блогов из трех частей о развертывании приложения LAMP с помощью Chef, Vagrant и EC2.][chef_vagrant_and_ec2]
* [Поваренная книга  шефа, который устанавливает и настраивает PHP и систему управления пакетами PEAR.][Chef_cookbook]
* [Серия видеоуроков от шеф-повара][Chef_tutorial]

### Непрерывная интеграция

> Непрерывная интеграция — это практика разработки программного обеспечения, при которой члены команды часто интегрируют
> свою работу, обычно каждый человек интегрирует по крайней мере ежедневно, что приводит к множеству интеграций в день.
> Многие команды считают, что такой подход приводит к значительному сокращению проблем интеграции и позволяет команде
> быстрее разрабатывать целостное программное обеспечение.
*-- Martin Fowler*

Существуют разные способы реализации непрерывной интеграции для PHP. [Travis CI] проделал огромную работу, сделав
непрерывную интеграцию реальностью даже для небольших проектов. Travis CI — это размещенная служба непрерывной интеграции
для сообщества открытого исходного кода. Он интегрирован с GitHub и предлагает первоклассную поддержку многих языков,
включая PHP.

#### Дальнейшее чтение

* [Непрерывная интеграция с Jenkins][Jenkins]
* [Непрерывная интеграция с PHPCI][PHPCI]
* [Непрерывная интеграция с PHP Censor][PHP Censor]
* [Непрерывная интеграция с Teamcity][Teamcity]

[buildautomation]: https://wikipedia.org/wiki/Build_automation
[Phing]: https://www.phing.info/
[Apache Ant]: https://ant.apache.org/
[Capistrano]: https://capistranorb.com/
[Ansistrano]: https://ansistrano.com
[phpdeploy_deployer]: https://www.sitepoint.com/deploying-php-applications-with-deployer/
[Chef]: https://www.chef.io/
[chef_vagrant_and_ec2]: http://www.jasongrimes.org/2012/06/managing-lamp-environments-with-chef-vagrant-and-ec2-1-of-3/
[Chef_cookbook]: https://github.com/chef-cookbooks/php
[Chef_tutorial]: https://www.youtube.com/playlist?list=PL11cZfNdwNyPnZA9D1MbVqldGuOWqbumZ
[apache_ant_tutorial]: https://code.tutsplus.com/tutorials/automate-your-projects-with-apache-ant--net-18595
[Travis CI]: https://travis-ci.org/
[Jenkins]: https://jenkins.io/
[PHPCI]: https://github.com/dancryer/phpci
[PHP Censor]: https://github.com/php-censor/php-censor
[Teamcity]: https://www.jetbrains.com/teamcity/
[Deployer]: https://deployer.org/
[Rocketeer]: http://rocketeer.autopergamene.eu/
[Magallanes]: https://www.magephp.com/
[deploying_php_applications]: https://deployingphpapplications.com/
[Ansible]: https://www.ansible.com/
[Puppet]: https://puppet.com/
[ansible_for_devops]: https://leanpub.com/ansible-for-devops
[ansible_for_aws]: https://leanpub.com/ansible-for-aws
[an_ansible_tutorial]: https://serversforhackers.com/an-ansible-tutorial
